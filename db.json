{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","path":"vendors/velocity/velocity.ui.min.js","modified":0},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","path":"vendors/velocity/velocity.ui.js","modified":0},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","path":"vendors/velocity/velocity.min.js","modified":0},{"_id":"themes/next/source/vendors/velocity/velocity.js","path":"vendors/velocity/velocity.js","modified":0},{"_id":"themes/next/source/vendors/velocity/bower.json","path":"vendors/velocity/bower.json","modified":0},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","path":"vendors/ua-parser-js/dist/ua-parser.pack.js","modified":0},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","path":"vendors/ua-parser-js/dist/ua-parser.min.js","modified":0},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","path":"vendors/jquery_lazyload/jquery.scrollstop.js","modified":0},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","path":"vendors/jquery_lazyload/jquery.lazyload.js","modified":0},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","path":"vendors/jquery_lazyload/bower.json","modified":0},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","path":"vendors/jquery_lazyload/README.md","modified":0},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","path":"vendors/jquery_lazyload/CONTRIBUTING.md","modified":0},{"_id":"themes/next/source/vendors/jquery/index.js","path":"vendors/jquery/index.js","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff2","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","path":"vendors/font-awesome/fonts/fontawesome-webfont.ttf","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","path":"vendors/font-awesome/fonts/fontawesome-webfont.svg","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","path":"vendors/font-awesome/fonts/fontawesome-webfont.eot","modified":0},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","path":"vendors/font-awesome/fonts/FontAwesome.otf","modified":0},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","path":"vendors/font-awesome/css/font-awesome.min.css","modified":0},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","path":"vendors/font-awesome/css/font-awesome.css.map","modified":0},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","path":"vendors/font-awesome/css/font-awesome.css","modified":0},{"_id":"themes/next/source/vendors/font-awesome/bower.json","path":"vendors/font-awesome/bower.json","modified":0},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","path":"vendors/font-awesome/HELP-US-OUT.txt","modified":0},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","path":"vendors/fastclick/lib/fastclick.min.js","modified":0},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","path":"vendors/fastclick/lib/fastclick.js","modified":0},{"_id":"themes/next/source/vendors/fastclick/bower.json","path":"vendors/fastclick/bower.json","modified":0},{"_id":"themes/next/source/vendors/fastclick/README.md","path":"vendors/fastclick/README.md","modified":0},{"_id":"themes/next/source/vendors/fastclick/LICENSE","path":"vendors/fastclick/LICENSE","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","path":"vendors/fancybox/source/jquery.fancybox.pack.js","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","path":"vendors/fancybox/source/jquery.fancybox.js","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","path":"vendors/fancybox/source/jquery.fancybox.css","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","path":"vendors/fancybox/source/helpers/fancybox_buttons.png","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","path":"vendors/fancybox/source/fancybox_sprite@2x.png","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","path":"vendors/fancybox/source/fancybox_sprite.png","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","path":"vendors/fancybox/source/fancybox_overlay.png","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","path":"vendors/fancybox/source/fancybox_loading@2x.gif","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","path":"vendors/fancybox/source/fancybox_loading.gif","modified":0},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","path":"vendors/fancybox/source/blank.gif","modified":0},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0},{"_id":"themes/next/source/images/avatar.jpg","path":"images/avatar.jpg","modified":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0},{"_id":"themes/next/source/404.html","path":"404.html","modified":0}],"Cache":[{"_id":"source/_posts/Memcache安装.md","shasum":"bfbda50d8dc53b181192a6673741718bee533c38","modified":1476720435000},{"_id":"source/_posts/linux安装apache和php.md","shasum":"a9b8d236817ea748dbdf7fd02c2ecef2926f4867","modified":1476720435000},{"_id":"source/_posts/仿TP自动验证数据.md","shasum":"dde1ace8003b3744abb855419fa1ef740afc0bd6","modified":1476720435000},{"_id":"source/_posts/商城实战总结-一.md","shasum":"306089b284f257e93171dedca7ad32b322e46ad2","modified":1476720435000},{"_id":"source/_posts/商城实战总结-二.md","shasum":"eac932bd2f79356042f1ea5456a0182bc26283b6","modified":1476720435000},{"_id":"source/_posts/商城实战总结-分页类.md","shasum":"074c0a8661b61876465b019a67a67bb379ac8c62","modified":1476720435000},{"_id":"source/_posts/最近的学习总结.md","shasum":"0b16948a1ae19e628b3d5b2a50fed8776da4b0a2","modified":1476720435000},{"_id":"source/_posts/阿里大鱼-短信开发.md","shasum":"75d3a5843d8c801401f33aed85c294c2354beec2","modified":1476720435000},{"_id":"source/categories/index.md","shasum":"2e11919b14109d8e899ce17910b1b6b64a253bda","modified":1476720435000},{"_id":"source/tags/index.md","shasum":"251f220bebfea62af05e22445301a82400466eb0","modified":1476720435000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/source/css/_mixins/Mist.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/source/css/_mixins/Muse.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/source/css/_mixins/custom.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/source/css/_variables/Muse.styl","shasum":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1476720435000},{"_id":"themes/next/README.en.md","shasum":"fa31bbc6dd8778b8dee469740c92b3b5b59702af","modified":1476720435000},{"_id":"themes/next/README.md","shasum":"b2499c61ef9cf6ee31ed5606ed43ef247c73de63","modified":1476720435000},{"_id":"themes/next/_config.yml","shasum":"c9c3c407e56abc3f33f013e4968ed7d172375d0a","modified":1476720435000},{"_id":"themes/next/bower.json","shasum":"93adc30dab22314f3757c3b6d3c13771de994b08","modified":1476720435000},{"_id":"themes/next/gulpfile.coffee","shasum":"0494704f9e1ac8f63b9bd2791c443ffbf6091df3","modified":1476720435000},{"_id":"themes/next/languages/de.yml","shasum":"4c3ffeb0d214c807a226dd98214958cb5483df1c","modified":1476720435000},{"_id":"themes/next/languages/default.yml","shasum":"d2f6784b9c6567b64e58736e36025dbf96d863d4","modified":1476720435000},{"_id":"themes/next/languages/en.yml","shasum":"df81ab6b1cf3c88ed053d3766381cd12eb659fe3","modified":1476720435000},{"_id":"themes/next/languages/fr-FR.yml","shasum":"d8a40fe025fad6f42df0cf16d4be2d513769b062","modified":1476720435000},{"_id":"themes/next/languages/pt.yml","shasum":"4c64594f477905d5d2d9ca2422f03175b7b0c617","modified":1476720435000},{"_id":"themes/next/languages/ru.yml","shasum":"c3aedb94decf05a301662afc3398ab563dd9995a","modified":1476720435000},{"_id":"themes/next/languages/zh-Hans.yml","shasum":"aee306df3a6c842cf3f3730f96c12225cc8210b3","modified":1476720435000},{"_id":"themes/next/languages/zh-hk.yml","shasum":"88e603eb0f3fd25c35bb37bd30372fd77bba7c46","modified":1476720435000},{"_id":"themes/next/languages/zh-tw.yml","shasum":"04479b419c72b71fd34046f3fc33ebda4fe8de84","modified":1476720435000},{"_id":"themes/next/layout/_layout.swig","shasum":"0754f57d68b25bc58ba837b26839d633e1b61feb","modified":1476720435000},{"_id":"themes/next/layout/_macro/post-collapse.swig","shasum":"b87a5122dbff1d5fccf8f3d09d1640bd4b01c4a0","modified":1476720435000},{"_id":"themes/next/layout/_macro/post.swig","shasum":"ee7253f48691a577494cd134d42bb9db70c6d8d1","modified":1476720435000},{"_id":"themes/next/layout/_macro/sidebar.swig","shasum":"aa90ec8036394c26ba54836ec8859b9f2005e9d5","modified":1476720435000},{"_id":"themes/next/layout/_partials/comments.swig","shasum":"325dd5923d845a539fc0524ca72ce40edd1e516a","modified":1476720435000},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","shasum":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1476720435000},{"_id":"themes/next/layout/_partials/footer.swig","shasum":"f079b41036620928b7476773bd896a9a1937a7cf","modified":1476720435000},{"_id":"themes/next/layout/_partials/head.swig","shasum":"04a8b8a98ce3f438e47f07b0c27c11c73c05849b","modified":1476720435000},{"_id":"themes/next/layout/_partials/header.swig","shasum":"6946b69b5ee1cf74f002ebfd0f824cf3e35b9fb3","modified":1476720435000},{"_id":"themes/next/layout/_partials/pagination.swig","shasum":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1476720435000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","shasum":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1476720435000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","shasum":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1476720435000},{"_id":"themes/next/layout/_partials/search.swig","shasum":"1b86eb85017599392071d1230171e900045f8e69","modified":1476720435000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","shasum":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1476720435000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","shasum":"12684840de632eb16e53ffa863166306a756fd4f","modified":1476720435000},{"_id":"themes/next/layout/_scripts/boostrap.swig","shasum":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1476720435000},{"_id":"themes/next/layout/_scripts/commons.swig","shasum":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1476720435000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","shasum":"f115e46c31da049362da49eeebb123f6bcd7f020","modified":1476720435000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","shasum":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","shasum":"ae5b8597603d4e42ee66ed121544e7b1c644767e","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","shasum":"61347b9cf5c42a02f28cda4b6d920d6d17099d44","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","shasum":"1b6af02fd0ba3f729675cd95429a0cea4aebf358","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","shasum":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","shasum":"c73e1def5243f3ab545d462b275d8df9d38a8823","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/baidushare.swig","shasum":"640d4dda003f54a0dffa4508fba4d91ac0dcfa6e","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","shasum":"c1186e609d4810ebfb3e675e9045b023a557d1db","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","shasum":"da8aa3beab56d8c306dd97cf41127a3859e2d00c","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","shasum":"8ba01f1ac07fbca62a4b00f5a0a3a506122c1530","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","shasum":"aebc73513c9cbbbbda2935e2eb18e09bb1c24bf8","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","shasum":"8eecd19c756df615afb3f5ec6a527cd7bd06d20c","modified":1476720435000},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","shasum":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1476720435000},{"_id":"themes/next/layout/_scripts/vendors.swig","shasum":"2894a5e663bbc291cb9365150c05026b1e90bdee","modified":1476720435000},{"_id":"themes/next/layout/archive.swig","shasum":"b867a08f6b43de8b5d700c84b943df55917407ae","modified":1476720435000},{"_id":"themes/next/layout/category.swig","shasum":"58cf08388901f7549b1fca95548b2c79173aa840","modified":1476720435000},{"_id":"themes/next/layout/index.swig","shasum":"04b96034637010846ab7f14844a0e3627d9005c2","modified":1476720435000},{"_id":"themes/next/layout/page.swig","shasum":"a91e3fd7aef26e8a02e339e3372801c517f400cf","modified":1476720435000},{"_id":"themes/next/layout/post.swig","shasum":"e67a6aabe4d71cbcf01a4cace652424bd49acc9b","modified":1476720435000},{"_id":"themes/next/layout/tag.swig","shasum":"6f764ea3ab11eeb7c530df45528d449b14f5dc62","modified":1476720435000},{"_id":"themes/next/package.json","shasum":"afc2cbda2fe4643808c151135d5528267ee634c4","modified":1476720435000},{"_id":"themes/next/scripts/filters/sticky.js","shasum":"4e4c9a837e186f94f256bd6eabb89b138cfc0db6","modified":1476720435000},{"_id":"themes/next/scripts/merge-configs.js","shasum":"f8cde6953939802f92da5b7a2458c6c539e9be69","modified":1476720435000},{"_id":"themes/next/scripts/tags/center-quote.js","shasum":"99b66949f18398689b904907af23c013be1b978f","modified":1476720435000},{"_id":"themes/next/scripts/tags/full-image.js","shasum":"86194a05a8c6499de0b2aaa525d6de135778c0ae","modified":1476720435000},{"_id":"themes/next/source/css/_common/_component/posts-expand.styl","shasum":"afb92b28d8b4a9c16e27f0dbaeed33adfc8e24e7","modified":1476720435000},{"_id":"themes/next/source/404.html","shasum":"a4cbbe31bc83332167c22d0c80c8c3311cbb80ed","modified":1476720435000},{"_id":"themes/next/scripts/tags/group-pictures.js","shasum":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1476720435000},{"_id":"themes/next/source/css/_common/_section/header.styl","shasum":"cd6527e4877f62f08e8668b020ec9f9e53f625a9","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","shasum":"148b410553f2dec4dff96412997e83302ffd6818","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/buttons.styl","shasum":"22828f5141c0cecb9ef25a110e194cdfa3a36423","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/comments.styl","shasum":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/components.styl","shasum":"b7d5cc29586ac796a50d90974ad99d24a5982137","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","shasum":"4c4ef6e997d0c6e21de39c2daa0c768e12c8c6fa","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/header/header.styl","shasum":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","shasum":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","shasum":"c88f11fdd934045b093e96f611a453b09d6692d5","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","shasum":"f168f79ba8cc80c775907da4cc00d01771ac1e1e","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","shasum":"1727702eac5d326b5c81a667944a245016668231","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","shasum":"627cdd38b34b15c9fc17f4dc332b1be928f8ed0d","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","shasum":"9f0606d4d94ffa6bd77f91628507bba19133cf36","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","shasum":"8539c1122966a6aea64267d48af05603caa5fa29","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","shasum":"6c34f2cf9ad9b9b787007cfca522deeb6b1ae3b7","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","shasum":"b8f9c95702e87fd0b170ab586c82c9718a245f8a","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","shasum":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/pagination.styl","shasum":"88559b13ce94311405b170a0506ded91273beceb","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","shasum":"68ed6b0ad40745cb07ecd38f13960bb217aef848","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","shasum":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","shasum":"22ceb6b6dac7e1b4ced6c9b15390c97cf43627cd","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","shasum":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","shasum":"5dba4ca272d7c767b57233cd99fba95dbf82153f","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-more-link.styl","shasum":"c9e3c5aca361ed9bbfa41a9755f3c516025da67e","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","shasum":"929fac3a505bacbce6ba63009fd15851e2a8669d","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","shasum":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","shasum":"758d64ad65f718537ab5bfe5592a626abc40987e","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","shasum":"01567edaea6978628aa5521a122a85434c418bfd","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/post/post.styl","shasum":"98ab1039ec0726ba217a2f318ca53b737d07857c","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","shasum":"7f2bdd6109614d35408ee5ac3335aad4464c69c7","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","shasum":"70407054dbb5180c69e50ea2655d32835494394e","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","shasum":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","shasum":"1153bb71edf253765145559674390e16dd67c633","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","shasum":"97832be1f30b631dbc2202524918b6eb55e74c4b","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","shasum":"06b9a99d63b4d57fdbf70b88ab7036fbc47e3f52","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","shasum":"830c376f15ee839179c40d6b655d180eff914f45","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","shasum":"99c4b7d1459569cda394c733845d368008a180bf","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","shasum":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","shasum":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","shasum":"dd941824210733588841897457e0cc9697ca5608","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","shasum":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","shasum":"a83f493e494f5c73fab8f6f5b686ef1670490095","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","shasum":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","shasum":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1476720435000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","shasum":"16b01b24f02370229a4cbb95e094c397e3e6d079","modified":1476720435000},{"_id":"themes/next/source/css/_common/outline/outline.styl","shasum":"e0d2156344ad6f1f029ffc7e52a65b1ad2d799dd","modified":1476720435000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","shasum":"5a35aa0381b0e1d465b952a997194441020446ea","modified":1476720435000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","shasum":"c02804c259b267d5b09a697ff478de7ce2bef117","modified":1476720435000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","shasum":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1476720435000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","shasum":"c9218b48c56e52c06af9ce3cc8fbdae737cf16fe","modified":1476720435000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","shasum":"16a98866f5025c050c56e52312228355a16d00d9","modified":1476720435000},{"_id":"themes/next/source/css/_custom/custom.styl","shasum":"3403fdd8efde1a0afd11ae8a5a97673f5903087f","modified":1476720435000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","shasum":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1476720435000},{"_id":"themes/next/source/css/_mixins/base.styl","shasum":"10ca6744a8594c1a085b50120f4ed0a1ef433f40","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","shasum":"e4b5b56e1a035c99ebd50d00e93d89e2e8d0b735","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","shasum":"452e71caf2c37fa5a06f8d9ada81337a57485885","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","shasum":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","shasum":"5e157c1b9ab759e486d97739a7dd10e333ac0fa3","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","shasum":"55b44e03054cd20ed8129bf986b15fba5fd85aad","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","shasum":"f10be4b0c642104a6f533b94ac09e22019aa640e","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","shasum":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","shasum":"dd667be3f5f24cebdc15d0262c7d397f23d751c5","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","shasum":"ea4838886d1fe556a546003e2d228836c7d41d63","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","shasum":"ecd76494cea5fbf592cc13ba1e4ccdfedbc5bf1b","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","shasum":"d1bc8f62e4a65354426c4f7affdc857cc227cc8c","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_full-image.styl","shasum":"de31e923bf5102498f06b1ae6bdf2ea22409f3e0","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","shasum":"96f95471da25d0e80c6b82f1e834b03c9aba58a9","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","shasum":"f575b82c8562a5cf1d0fb586c56a739ae70a35d3","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","shasum":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","shasum":"802e599b1ac749eac162dae396f66b0acaa5edcc","modified":1476720435000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","shasum":"88a5e0e95f93e4adb196bff1aac17d6cfb03768a","modified":1476720435000},{"_id":"themes/next/source/css/_variables/Mist.styl","shasum":"34556e7cc97e6e0e785260d1c0e685e165a59c0b","modified":1476720435000},{"_id":"themes/next/source/css/_variables/Pisces.styl","shasum":"8d2ef9b580aeeb8767ef376a25ff092cb3ce3b2e","modified":1476720435000},{"_id":"themes/next/source/css/_variables/base.styl","shasum":"18b29927a0cf0f886aa650223cd98ee3d9c5f1bd","modified":1476720435000},{"_id":"themes/next/source/css/_variables/custom.styl","shasum":"10d8ecb4354f6520ee843c7ebb7e6dc14ed61728","modified":1476720435000},{"_id":"themes/next/source/css/_variables/default.styl","shasum":"17779fa6fa3c9e1262ba100a86a8dec730c2f312","modified":1476720435000},{"_id":"themes/next/source/css/main.styl","shasum":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1476720435000},{"_id":"themes/next/source/images/avatar.jpg","shasum":"30c3bd2dd6abb6bde612bf73d13eee2394948fd0","modified":1476720435000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","shasum":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1476720435000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","shasum":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1476720435000},{"_id":"themes/next/source/images/cc-by-nc.svg","shasum":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1476720435000},{"_id":"themes/next/source/images/cc-by-nd.svg","shasum":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1476720435000},{"_id":"themes/next/source/images/cc-by-sa.svg","shasum":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1476720435000},{"_id":"themes/next/source/images/cc-by.svg","shasum":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1476720435000},{"_id":"themes/next/source/images/cc-zero.svg","shasum":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1476720435000},{"_id":"themes/next/source/images/loading.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1476720435000},{"_id":"themes/next/source/images/placeholder.gif","shasum":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1476720435000},{"_id":"themes/next/source/images/quote-l.svg","shasum":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1476720435000},{"_id":"themes/next/source/images/quote-r.svg","shasum":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1476720435000},{"_id":"themes/next/source/images/searchicon.png","shasum":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1476720435000},{"_id":"themes/next/source/js/src/affix.js","shasum":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1476720435000},{"_id":"themes/next/source/js/src/bootstrap.js","shasum":"f54b58318baceed9b272dad7db2f1f2414915755","modified":1476720435000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","shasum":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1476720435000},{"_id":"themes/next/source/js/src/motion.js","shasum":"5b2559b25b748571fb35d134a5323014941b6715","modified":1476720435000},{"_id":"themes/next/source/js/src/schemes/pisces.js","shasum":"8b37699252a24741716b40fb70972a77453cbfe1","modified":1476720435000},{"_id":"themes/next/source/js/src/scrollspy.js","shasum":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1476720435000},{"_id":"themes/next/source/js/src/utils.js","shasum":"1aaa0d97302bb6478be6da9f17a2ad270105a263","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","shasum":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","shasum":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","shasum":"273b123496a42ba45c3416adb027cd99745058b0","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","shasum":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","shasum":"17df19f97628e77be09c352bf27425faea248251","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","shasum":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","shasum":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","shasum":"6394c48092085788a8c0ef72670b0652006231a1","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","shasum":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","shasum":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","shasum":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","shasum":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","shasum":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","shasum":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1476720435000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","shasum":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1476720435000},{"_id":"themes/next/source/vendors/fastclick/LICENSE","shasum":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1476720435000},{"_id":"themes/next/source/vendors/fastclick/README.md","shasum":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1476720435000},{"_id":"themes/next/source/vendors/fastclick/bower.json","shasum":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1476720435000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","shasum":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1476720435000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","shasum":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","shasum":"ed80b43dbc7e3009b2f436741b9796df8eb3be02","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/bower.json","shasum":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","shasum":"811432ad1e2d6c1f6da9a63fd919bf2a02b71dd9","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","shasum":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","shasum":"4c2c5f5f6cc86d775a44b944661e038b7be98149","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","shasum":"574ea2698c03ae9477db2ea3baf460ee32f1a7ea","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","shasum":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","shasum":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","shasum":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","shasum":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","shasum":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1476720435000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","shasum":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1476720435000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","shasum":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1476720435000},{"_id":"themes/next/source/vendors/velocity/bower.json","shasum":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1476720435000},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","shasum":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1476720435000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","shasum":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1476720435000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","shasum":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1476720435000},{"_id":"themes/next/test/helpers.js","shasum":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1476720435000},{"_id":"themes/next/test/intern.js","shasum":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","shasum":"0112e96f327d413938d37c1693806f468ffdbace","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","shasum":"b3c2f08e73320135b69c23a3908b87a12053a2f6","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","shasum":"507970402e328b2baeb05bde73bf9ded4e2c3a2d","modified":1476720435000},{"_id":"themes/next/source/vendors/jquery/index.js","shasum":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","shasum":"27cf1f2ec59aece6938c7bb2feb0e287ea778ff9","modified":1476720435000},{"_id":"themes/next/source/vendors/velocity/velocity.js","shasum":"e63dc7cea055ca60a95d286f32349d88b10c5a4d","modified":1476720435000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","shasum":"f346b8b3df147e4059e1a7d66c52c9a6e1cec3e8","modified":1476720435000}],"Category":[{"name":"Memcache安装","_id":"ciuea2qcm0001db7nluemhgdf"},{"name":"阿里大鱼","_id":"ciuea2qgj000adb7nckiskm7b"},{"name":"PHP学习记录","_id":"ciuea2qgr000odb7n78optx8h"},{"name":"apache","_id":"ciuea2qhc001cdb7n9r5xhafp"}],"Data":[],"Page":[{"title":"tags","date":"2016-01-27T13:57:17.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"title: tags\ndate: 2016-01-27 13:57:17\ntype: tags\ncomments: false   #去除多说评论框\n---\n","updated":"2016-10-17T16:07:15.000Z","path":"tags/index.html","layout":"page","_id":"ciuea2qf70007db7nvsh31v9m"},{"title":"categories","date":"2016-01-27T17:14:42.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"title: categories\ndate: 2016-01-27 17:14:42\ntype: \"categories\"\ncomments: false   #去除多说评论框\n---\n","updated":"2016-10-17T16:07:15.000Z","path":"categories/index.html","layout":"page","_id":"ciuea2qfy0008db7nwufcqxm4"}],"Post":[{"title":"Memcache安装","date":"2016-03-05T17:06:30.000Z","_content":"\n# Windows\n<!--more-->\n## 一、安装memcached\n1. 下载 Memcached\n   度娘有编译好的memcached.exe可以下载\n2. 将memcached放到/wamp/bin/mem/中\n``` bat\n\tcd /wamp/bin/mem\n\tmemcached.exe -d install //安装\n\tmemcached.exe -d start //注册服务\n```\n3. memcached的启动\n``` bat\n\tmemcached.exe -m 64 -p 11211 -vvv\n```\n4. memcached的连接\n``` bat\n\ttelnet 127.0.0.1 11211\n```\n5. 按下ctrl+],打开回显,并回车\n\n## 二、安装php的memcached扩展\n> \n1. 寻找合适的dll,需要考虑三个参数\n\t1. php版本\n\t2. ts or nts(线程安全 县城不安全)\n\t3. vc6 vc9 vc11\n2. 找到合适的dll下载,并放在php/ext目录下\n3. 修改php.ini\n   先通过phpinfo()确认真正使用的php.ini文件是哪一个\n   观察extension_dir路径\n   添加extension=php_memcache.dll\n4. 重启apache\n\n# Linux\n## 一、安装memcached\n1. 准备编译环境\n> 在linux编译,需要gcc,make,autoconf,libtool等工具\n``` bat\n// 安装编译环境\nyum install gcc make,cmake,autoconf,libtool\n```\n2. 下载相应的库和memcached源码\n> memcached依赖于lieevent库,因此,需要编译libevent\nlibevent.org和memcached.org在下载最新的stable版本\n```\n#cd /usr/local/src\n#wget https://github.com/libevent/libevent/releases/download/release-2.0.22-stable/libevent-2.0.22-stable.tar.gz\n```\n3. 同理下载mem安装包\n4. 编译安装libevent\n> \n```\n#tar zxvf libevent(可以按住tab,能自动补全)\n#cd libevent(tab)\n#./configure --prefix=/usr/local/libevent\n#make && make install\n```\n5. 同理编译安装memcached\n> \n```\n#tar zxvf mem(可以按住tab,能自动补全)\n#cd memca(tab)\n#./configure --prefix=/usr/local/memcache --with-libevent=/usr/local/libevent\n#make && make install\n```\n注:在虚拟机下练习编译的时候,一个容易碰到的问题,虚拟机的时间不对,导致gcc编译过程中,检测时间无法通过,一直处于编译过程\n解决:\n``` \n#date -s 'yyyy-mm-dd hh:mm:ss'\n#clock -w #把时间写入cmos\n```\n启动\n> \n-u nobody方式运行\n-d 指定memcached后台进程执行\n\n## 二、安装扩展\n> 扩展编译的通用方法:\n以memcache扩展为例\n1. 到软件你的官方(如memcached)或者php.net寻找源码并下载\n2. 进入到 /memcache目录\n3. 根据当前的php版本动态创建扩展的configure文件\n```\n# cd /memcached\n# /usr/local/php/bin/phpize --with-php-config=/usr/local/php/bin/php-config\n# ./configure --with-php-config=/usr/local/php/bin/php-config\n```\n4. make && make install\n5. 把生成的扩展so,在php.ini里面引入\n```\n# 复制php.ini到php中\n# cp /usr/local/src/php-5.5.12/php.ini-development /usr/local/php/lib/php.ini\n```\n6. 重启apache\n```\n# cd /usr/local/httpd\n# ./bin/apa(按tab) restart\n```","source":"_posts/Memcache安装.md","raw":"title: Memcache安装\ndate: 2016-03-05 17:06:30\ntags: [Memcache,linux]\ncategories: [Memcache安装]\n---\n\n# Windows\n<!--more-->\n## 一、安装memcached\n1. 下载 Memcached\n   度娘有编译好的memcached.exe可以下载\n2. 将memcached放到/wamp/bin/mem/中\n``` bat\n\tcd /wamp/bin/mem\n\tmemcached.exe -d install //安装\n\tmemcached.exe -d start //注册服务\n```\n3. memcached的启动\n``` bat\n\tmemcached.exe -m 64 -p 11211 -vvv\n```\n4. memcached的连接\n``` bat\n\ttelnet 127.0.0.1 11211\n```\n5. 按下ctrl+],打开回显,并回车\n\n## 二、安装php的memcached扩展\n> \n1. 寻找合适的dll,需要考虑三个参数\n\t1. php版本\n\t2. ts or nts(线程安全 县城不安全)\n\t3. vc6 vc9 vc11\n2. 找到合适的dll下载,并放在php/ext目录下\n3. 修改php.ini\n   先通过phpinfo()确认真正使用的php.ini文件是哪一个\n   观察extension_dir路径\n   添加extension=php_memcache.dll\n4. 重启apache\n\n# Linux\n## 一、安装memcached\n1. 准备编译环境\n> 在linux编译,需要gcc,make,autoconf,libtool等工具\n``` bat\n// 安装编译环境\nyum install gcc make,cmake,autoconf,libtool\n```\n2. 下载相应的库和memcached源码\n> memcached依赖于lieevent库,因此,需要编译libevent\nlibevent.org和memcached.org在下载最新的stable版本\n```\n#cd /usr/local/src\n#wget https://github.com/libevent/libevent/releases/download/release-2.0.22-stable/libevent-2.0.22-stable.tar.gz\n```\n3. 同理下载mem安装包\n4. 编译安装libevent\n> \n```\n#tar zxvf libevent(可以按住tab,能自动补全)\n#cd libevent(tab)\n#./configure --prefix=/usr/local/libevent\n#make && make install\n```\n5. 同理编译安装memcached\n> \n```\n#tar zxvf mem(可以按住tab,能自动补全)\n#cd memca(tab)\n#./configure --prefix=/usr/local/memcache --with-libevent=/usr/local/libevent\n#make && make install\n```\n注:在虚拟机下练习编译的时候,一个容易碰到的问题,虚拟机的时间不对,导致gcc编译过程中,检测时间无法通过,一直处于编译过程\n解决:\n``` \n#date -s 'yyyy-mm-dd hh:mm:ss'\n#clock -w #把时间写入cmos\n```\n启动\n> \n-u nobody方式运行\n-d 指定memcached后台进程执行\n\n## 二、安装扩展\n> 扩展编译的通用方法:\n以memcache扩展为例\n1. 到软件你的官方(如memcached)或者php.net寻找源码并下载\n2. 进入到 /memcache目录\n3. 根据当前的php版本动态创建扩展的configure文件\n```\n# cd /memcached\n# /usr/local/php/bin/phpize --with-php-config=/usr/local/php/bin/php-config\n# ./configure --with-php-config=/usr/local/php/bin/php-config\n```\n4. make && make install\n5. 把生成的扩展so,在php.ini里面引入\n```\n# 复制php.ini到php中\n# cp /usr/local/src/php-5.5.12/php.ini-development /usr/local/php/lib/php.ini\n```\n6. 重启apache\n```\n# cd /usr/local/httpd\n# ./bin/apa(按tab) restart\n```","slug":"Memcache安装","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qcg0000db7nydjst80d","sticky":0},{"title":"阿里大鱼API开发","date":"2016-03-16T21:05:26.000Z","_content":"> 最近这段时间我比较忙,学习CI框架,看团队的login,register的代码,看的东西比较多,但是动手写的代码却少了,今天比较有空,就来总结下我写的短信开发api.\n\n# 一、注册阿里开发者\n1. 点击 [阿里大鱼](http://www.alidayu.com)\n2. 通过淘宝账号登陆\n\t完成实名认证\n3. 通过后,它会送你￥60的代金券,够你玩一阵了,0.06/条的短信,够你发1000条了。\n\n# 二、基本配置\n1. [阿里大鱼](http://www.alidayu.com)这里点击->管理中心(在完成了认证之后!)\n2. 管理中心进入后,在最上面的导航栏点击开发者控制台\n3. 创建应用(根据需要)\n> 这前面的步骤主要是为了获得key和secret;\n4. 创建好了之后,下载你需要的sdk版本;\n\n# 三、申请自己的短信签名和模板\n> 点击[阿里大鱼](http://www.alidayu.com)->管理中心->左边的导航栏中,有短信签名管理,短信模板管理,可以直接添加；\n短信签名,必须在这里申请了,然后代码中才能使用\n短信模板,要使用它的模板ID,在代码中使用\n\n# 四、开发端完成代码\n> 这里基于是CI框架的开发\n首先将下载好的sdk放在library下面\n\n``` php\npublic function alidayu(){\n\t$telephone = $this->input->post('mobile');//接收电话号码\n\t$codes = mt_rand(100000,999999);//验证码\n\t$appkey = '';//这里主要看你的应用的\n\t$secret = '';//这里可以在应用里面查看\n\t$signName = '';//短信签名\n\t$tempCode = '';//短信模板id\n\n\t// 构造json类型的字符串,貌似他不接受json类型,所以不能直接用json_encode\n\t$param = \"{'code:'\".$codes.\"}\";\n\t// 加载sdk的短信类\n\t$this->load->library('taobao/top/TopClient');\n    $this->load->library('taobao/top/ResultSet');\n    $this->load->library('taobao/top/RequestCheckUtil');\n    $this->load->library('taobao/top/TopLogger');\n    $this->load->library('taobao/top/request/AlibabaAliqinFcSmsNumSendRequest');\n\n    $c = new TopClient;\n    $c->appkey = $appkey;\n    $c->secretKey = $secret;\n    $req = new AlibabaAliqinFcSmsNumSendRequest;\n    // $req->setExtend('123456');// 这个是可选项,用处不太明白,所以先不用\n    $req->setSmsType('normal');//短信类型,normal就可以了\n    $req->setSmsFreeSignName($signNmae);//短信签名;\n    $req->setSmsParam($param);//参数,json类型的字符串\n\n    $req->setRecNum($telephone);//短信接收号码\n    $req->setSmsTemplateCode($tempCode);//管理中心->短信模板管理\n\n    $resp = $c->execute($req);\n}\n```\n\n# 总结：虽然这个api并不是很难,但是这毕竟是自己第一次完成的一个接口调用,所以还是很有成就感的,从以前的只会看视频的人,到现在慢慢强迫自己去看开发文档,我觉得这条路虽然很难,但是只要自己还有兴趣,自己还回去拼,就会有回报的!","source":"_posts/阿里大鱼-短信开发.md","raw":"title: 阿里大鱼API开发\ndate: 2016-03-16 21:05:26\ntags: [PHP,API,阿里大鱼,短信]\ncategories: [阿里大鱼]\n---\n> 最近这段时间我比较忙,学习CI框架,看团队的login,register的代码,看的东西比较多,但是动手写的代码却少了,今天比较有空,就来总结下我写的短信开发api.\n\n# 一、注册阿里开发者\n1. 点击 [阿里大鱼](http://www.alidayu.com)\n2. 通过淘宝账号登陆\n\t完成实名认证\n3. 通过后,它会送你￥60的代金券,够你玩一阵了,0.06/条的短信,够你发1000条了。\n\n# 二、基本配置\n1. [阿里大鱼](http://www.alidayu.com)这里点击->管理中心(在完成了认证之后!)\n2. 管理中心进入后,在最上面的导航栏点击开发者控制台\n3. 创建应用(根据需要)\n> 这前面的步骤主要是为了获得key和secret;\n4. 创建好了之后,下载你需要的sdk版本;\n\n# 三、申请自己的短信签名和模板\n> 点击[阿里大鱼](http://www.alidayu.com)->管理中心->左边的导航栏中,有短信签名管理,短信模板管理,可以直接添加；\n短信签名,必须在这里申请了,然后代码中才能使用\n短信模板,要使用它的模板ID,在代码中使用\n\n# 四、开发端完成代码\n> 这里基于是CI框架的开发\n首先将下载好的sdk放在library下面\n\n``` php\npublic function alidayu(){\n\t$telephone = $this->input->post('mobile');//接收电话号码\n\t$codes = mt_rand(100000,999999);//验证码\n\t$appkey = '';//这里主要看你的应用的\n\t$secret = '';//这里可以在应用里面查看\n\t$signName = '';//短信签名\n\t$tempCode = '';//短信模板id\n\n\t// 构造json类型的字符串,貌似他不接受json类型,所以不能直接用json_encode\n\t$param = \"{'code:'\".$codes.\"}\";\n\t// 加载sdk的短信类\n\t$this->load->library('taobao/top/TopClient');\n    $this->load->library('taobao/top/ResultSet');\n    $this->load->library('taobao/top/RequestCheckUtil');\n    $this->load->library('taobao/top/TopLogger');\n    $this->load->library('taobao/top/request/AlibabaAliqinFcSmsNumSendRequest');\n\n    $c = new TopClient;\n    $c->appkey = $appkey;\n    $c->secretKey = $secret;\n    $req = new AlibabaAliqinFcSmsNumSendRequest;\n    // $req->setExtend('123456');// 这个是可选项,用处不太明白,所以先不用\n    $req->setSmsType('normal');//短信类型,normal就可以了\n    $req->setSmsFreeSignName($signNmae);//短信签名;\n    $req->setSmsParam($param);//参数,json类型的字符串\n\n    $req->setRecNum($telephone);//短信接收号码\n    $req->setSmsTemplateCode($tempCode);//管理中心->短信模板管理\n\n    $resp = $c->execute($req);\n}\n```\n\n# 总结：虽然这个api并不是很难,但是这毕竟是自己第一次完成的一个接口调用,所以还是很有成就感的,从以前的只会看视频的人,到现在慢慢强迫自己去看开发文档,我觉得这条路虽然很难,但是只要自己还有兴趣,自己还回去拼,就会有回报的!","slug":"阿里大鱼-短信开发","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qgh0009db7ngmplcavi","sticky":0},{"title":"最近的学习总结","date":"2016-04-17T09:27:09.000Z","_content":"> 近一个月,我从js,css选择器,linux,jq这几个方面进行了学习,从原来的只是通过视频学习知识,现在,我开始了从书籍中汲取自己所需要的知识,我觉得这是一个进步,看视频时学习别人走过的经验,然而看书是总结的过程,这会让自己去独立思考,而不是简单的模仿。\n> 我知道走程序员这条路是很难的,因为技术是不断更新的,我必须要有良好的学习习惯,以后才能走得更远。\n> 加油吧!\n> I am young but i am not simple!","source":"_posts/最近的学习总结.md","raw":"title: 最近的学习总结\ndate: 2016-04-17 09:27:09\ntags: [saying]\n---\n> 近一个月,我从js,css选择器,linux,jq这几个方面进行了学习,从原来的只是通过视频学习知识,现在,我开始了从书籍中汲取自己所需要的知识,我觉得这是一个进步,看视频时学习别人走过的经验,然而看书是总结的过程,这会让自己去独立思考,而不是简单的模仿。\n> 我知道走程序员这条路是很难的,因为技术是不断更新的,我必须要有良好的学习习惯,以后才能走得更远。\n> 加油吧!\n> I am young but i am not simple!","slug":"最近的学习总结","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qgn000kdb7ni1zkjt3n","sticky":0},{"title":"商城实战总结:分页类","date":"2016-02-22T09:09:56.000Z","_content":"\n> 分页类:根据不同的传参显示不同的数据\n自动生成导航\n\n<!--more-->\n## 1.准备工作:\n三个最主要的数据:\n$page(当前页),$perpage(每页显示的记录数),$total(总的记录/商品数);\n根据上面所计算出来的数据:\n总页数 = ceil($total/$perpage)\n数据库的起始点:$offset = ($page-1)*perpage;\n数据库每次取得的数目:$perpage\n\n## 2.显示数据\n根据GET获取到当前页码:\n``` php\n$page = isset($_GET['page'])?$_GET['page']+0:1;\n```\n根据当前页码取出起始点:\n``` php\n$offset = ($page-1)*$perpage;\n```\n从数据库取出数据:\n``` php\n\t$sql = 'SELECT * FROM table_name LIMIT '.$offset.','.$perpage;\n```\n## 3.自动生成导航\n``` php\nClass PageTool{\n\tprivate $total = 1;//总记录数目\n\tprivate $page = 1;//当前页码\n\tprivate $perpage = 10;//每页显示的记录\n\n\tPublic function __construct($total,$page = false,$perpage = false){\n\t\t$this->total = $total;\n\t\t// 如果不填写page,默认就不改变\n\t\t$this->page = $page?$page:$this->page;\n\t\t// 同理\n\t\t$this->perpage = $perpage?$perpage:$this->perpage;\n\t}\n\n\tPublic function show(){\n\t\t// 计算总的页数\n\t\t$cnt = ceil($this->total/$this->perpage);\n\n\t\t// 1.取出url并去掉$page\n\t\t$uri = $_SERVER['REQUEST_URI'];\n\t\t// 2.取出uri中的所有参数\n\t\t$parse = parse_url($uri);\n\t\t// 将参数格式的字符串解析成数组:\n\t\tif(isset($parse['query'])){\n\t\t\t$param = array();\n\t\t\tparse_str($parse['query'],$param);\n\t\t\t//去掉page参数,因为page是我们要自己写的\n\t\t\tunset($param['page']);\n\t\t}\n\n\t\t// 取出url\n\t\t$url = $parse['path'].'?';\n\n\t\tif (!empty($param)){\n\t\t\t// 将数组转换成传参格式\n\t\t\t$param = http_build_query($param);\t\n\t\t\t$url .= $param.'&';\n\t\t}\n\n\t\t$nav[0] = '<span class = 'page_now'>'.$this->page.'</span>';\n\t\t// 当左边页面小于1,或者右边页面大于5的时候\n\t\t// nav中的总数大于5的时候\n\t\tfor($left = $this->page-1,$right = $this->page+1;($left >=1 || $right <= $cnt) count($nav) <= 5 ;){\n\t\t\tif($left >= 1){\n\t\t\t\tarray_unshift($nav,'a href =\"'.$url.'page = '.$left.'\">['.$left.']</a>');\n\t\t\t\t$left -= 1;\n\t\t\t}\n\t\t\tif($right <= $cnt){\n\t\t\t\tarray_push($nav,'<a href=\"'.$url.'page='.$right.'\">['.$right.']</a>');\t\n\t\t\t\t$right +=1;\n\t\t\t}\n\n\t\t}\n\n\t\treturn implode('&nbsp;&nbsp;',$nav);\n\t}\n}\n```","source":"_posts/商城实战总结-分页类.md","raw":"title: '商城实战总结:分页类'\ndate: 2016-02-22 09:09:56\ntags: [BOOL商城,PHP,十八哥]\ncategories: [PHP学习记录]\n---\n\n> 分页类:根据不同的传参显示不同的数据\n自动生成导航\n\n<!--more-->\n## 1.准备工作:\n三个最主要的数据:\n$page(当前页),$perpage(每页显示的记录数),$total(总的记录/商品数);\n根据上面所计算出来的数据:\n总页数 = ceil($total/$perpage)\n数据库的起始点:$offset = ($page-1)*perpage;\n数据库每次取得的数目:$perpage\n\n## 2.显示数据\n根据GET获取到当前页码:\n``` php\n$page = isset($_GET['page'])?$_GET['page']+0:1;\n```\n根据当前页码取出起始点:\n``` php\n$offset = ($page-1)*$perpage;\n```\n从数据库取出数据:\n``` php\n\t$sql = 'SELECT * FROM table_name LIMIT '.$offset.','.$perpage;\n```\n## 3.自动生成导航\n``` php\nClass PageTool{\n\tprivate $total = 1;//总记录数目\n\tprivate $page = 1;//当前页码\n\tprivate $perpage = 10;//每页显示的记录\n\n\tPublic function __construct($total,$page = false,$perpage = false){\n\t\t$this->total = $total;\n\t\t// 如果不填写page,默认就不改变\n\t\t$this->page = $page?$page:$this->page;\n\t\t// 同理\n\t\t$this->perpage = $perpage?$perpage:$this->perpage;\n\t}\n\n\tPublic function show(){\n\t\t// 计算总的页数\n\t\t$cnt = ceil($this->total/$this->perpage);\n\n\t\t// 1.取出url并去掉$page\n\t\t$uri = $_SERVER['REQUEST_URI'];\n\t\t// 2.取出uri中的所有参数\n\t\t$parse = parse_url($uri);\n\t\t// 将参数格式的字符串解析成数组:\n\t\tif(isset($parse['query'])){\n\t\t\t$param = array();\n\t\t\tparse_str($parse['query'],$param);\n\t\t\t//去掉page参数,因为page是我们要自己写的\n\t\t\tunset($param['page']);\n\t\t}\n\n\t\t// 取出url\n\t\t$url = $parse['path'].'?';\n\n\t\tif (!empty($param)){\n\t\t\t// 将数组转换成传参格式\n\t\t\t$param = http_build_query($param);\t\n\t\t\t$url .= $param.'&';\n\t\t}\n\n\t\t$nav[0] = '<span class = 'page_now'>'.$this->page.'</span>';\n\t\t// 当左边页面小于1,或者右边页面大于5的时候\n\t\t// nav中的总数大于5的时候\n\t\tfor($left = $this->page-1,$right = $this->page+1;($left >=1 || $right <= $cnt) count($nav) <= 5 ;){\n\t\t\tif($left >= 1){\n\t\t\t\tarray_unshift($nav,'a href =\"'.$url.'page = '.$left.'\">['.$left.']</a>');\n\t\t\t\t$left -= 1;\n\t\t\t}\n\t\t\tif($right <= $cnt){\n\t\t\t\tarray_push($nav,'<a href=\"'.$url.'page='.$right.'\">['.$right.']</a>');\t\n\t\t\t\t$right +=1;\n\t\t\t}\n\n\t\t}\n\n\t\treturn implode('&nbsp;&nbsp;',$nav);\n\t}\n}\n```","slug":"商城实战总结-分页类","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qgq000ndb7njoipx1kg","sticky":0},{"title":"商城实战总结：搭建底层框架(二)","date":"2016-02-21T09:12:21.000Z","_content":"\n> 框架额外功能的补充:\n1. 日志类\n2. 数据库类\n\n<!--more-->\n# 一、日志类\n> 这里直接上代码:\n\n## 代码\n``` php\nClass Log{\n\tconst LOG = 'curr.log';//将日志文件名字保存在常量中\n\n\tPublic Static function write($cont){\n\t\t// 要用双引号,转义,单引号会直接输出\n\t\t$cont .= \"\\r\\n\";\n\t\t// 判断日志文件的路径在哪里\n\t\t// 日志是否备份\n\t\t$log = self::is_bak();\n\n\t\t// 写入日志中\n\t\t$fh = fopen($log,'rb');//打开文本资源,以二进制追加的方式写入\n\t\t$fwrite($fh,$cont);//向资源中写入内容\n\t\tfclose($fh);//关闭该资源\n\t}\n\n\t/**\n\t * [bak 备份日志文件]\n\t * @return {[type]} [description]\n\t */\n\tPublic Static function bak($log){\n\t\t// 备份文件名(日期+随机数)\n\t\t$bak = ROOT.'data/log/'.date('ymd').mt_rand(100000,999999).'.bak';\n\t\treturn rename($log,$bak);\n\t}\n\n\t/**\n\t * [is_bak 检测是否备份]\n\t * @return {string} [返回日志路径]\n\t */\n\tPublic Static function is_bak(){\n\t\t// 拼接日志路径\n\t\t$log = ROOT.'data/log'.self::LOG;\n\t\t// 判断该路径是否存在\n\t\tif(!file_exists($log)){\n\t\t\ttouch($log);\n\t\t\treturn $log;\n\t\t}\n\t\t// 判断文件夹大小\n\t\t$size = filesize($log);\n\t\tif($size <= 1024*1024){//小于1m,就继续使用该文件\n\t\t\treturn $log;\n\t\t}\n\n\t\t// 如果走到了这一步,说明该备份了\n\t\tif(self::bak($log)){// 返回true,说明备份成功,需要重新创建日志文件\n\t\t\ttouch($log);\n\t\t}\n\t\t// 返回日志文件\n\t\treturn $log;\n\t}\n}\n```\n\n# 二、数据库类\n> 不多说,根据(一)中的db数据库抽象类,写出数据库操作类\n因为数据库,只需要实例化一次,多了会资源会浪费,所以使用单例模式\n\n## 代码:\n``` php\n\tClass mysql extends db{\n\t\tPrivate static $ins = null; //对象\n\t\tPrivate $conn = null; //数据库连接对象\n\t\tPrivate $conf = array(); //配置文件\n\n\t\t/**\n\t\t * [__construct 通过配置文件连接数据库]\n\t\t */\n\t\tfinal Protected function __construct(){\n\t\t\t// 从配置文件中取出数据\n\t\t\t$this->conf = config::getIns();\n\n\t\t\t//链接数据库\n\t\t\t$this->connect($this->conf->DB_HOST,$this->conf->DB_USER,$this->conf->DB_PWD,$this->conf->DB_NAME);\n\t\t}\n\n\n\t\t/**\n\t\t * [connect 连接数据库]\n\t\t * @param  {[type]} $h [服务器]\n\t\t * @param  {[type]} $u [用户名]\n\t\t * @param  {[type]} $p [密码]\n\t\t * @param  {[type]} $d [数据库]\n\t\t */\n\t\tPublic function connect($h,$u,$p,$d){\n\t\t\t$this->conn = new mysqli($h,$u,$p,$d);\n\t\t\tif($this->conn->connect_error){\n\t\t\t\tLOG::write($this->conn->connect_error);\n\t\t\t\tdie('连接失败');\n\t\t\t}\n\t\t}\n\n\t\t// 实例化对象\n\t\tPublic Static function getIns(){\n\t\t\tif(!(self::$ins instanceof self)){\n\t\t\t\tself::$ins = new self();\n\t\t\t}\n\t\t\treturn self::$ins;\n\t\t}\n\n\t\t// 发送查询\n\t\tPublic function query($sql){\n\t\t\t$rs = $this->conn->query($sql);\n\t\t\tLOG::write($sql);\n\t\t\treturn $rs;\n\t\t}\n\n\t\t// 自动执行\n\t\tPublic function autoExecute($table,$data,$action='insert',$where=''){\n\t\t\tif($action == 'insert'){\n\t\t\t\t$sql = 'INSERT INTO '.$table.'('.implode(',',array_keys($data)).')';\n\t\t\t\t$sql .= 'VALUES (\\'';\n\t\t\t\t$sql .= implode(\"','\",array_values($data));\n\t\t\t\t$sql .= ')\\'';\n\t\t\t}else{\n\t\t\t\t$sql = 'UPDATE '.$table.' SET ';\n\t\t\t\tforeach($data as $k=>$v){\n\t\t\t\t\t$sql .= $k.\"='\".$v.\"',\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 删除字符串末端的空白字符\n\t\t\t// $sql =rtrim($sql,',');\n\t\t\t$sql .= $where;\n\t\t\treturn $this->query($sql);\n\t\t}\n\n\n\t\t// 查询多行数据\n\t\tPublic function getAll($sql){\n\t\t\t$rs = $this->query($sql);\n\t\t\t$list = array();\n\t\t\twhile($row = rs->fetch_assoc()){\n\t\t\t\t$list[] = $row;\n\t\t\t}\n\t\t\treturn $list;\n\t\t}\n\n\t\t// 查询单行数据\n\t\tPublic function getRow($sql){\n\t\t\t$rs = $this->query($sql);\n\t\t\t// fetch_assoc是取下标是关联数组\n\t\t\treturn $row = $rs->fetch_assoc();\n\t\t}\n\n\t\t// 查询单个数据\n\t\tPublic function getOne($sql){\n\t\t\t$rs = $this->query($sql);\n\n\t\t\t// fetch_row是取出下标是数字\n\t\t\t$row = $rs->fetch_row();\n\n\t\t\treturn $row[0];\n\t\t}\n\n\t\t// 返回影响行\n\t\t// 当时删除操作时,只有通过影响行来判断是否成功\n\t\tPublic function affected_rows(){\n\t\t\treturn $this->conn->affected_rows;\n\t\t}\n\n\t\t// 返回插入数据id\n\t\tPublic function insert_id(){\n\t\t\treturn $this->conn->insert_id;\n\t\t}\n\n\t\t// 克隆\n\t\tPublic function __clone(){\n\t\t\tdie();\n\t\t}\n \t}\n```","source":"_posts/商城实战总结-二.md","raw":"title: 商城实战总结：搭建底层框架(二)\ndate: 2016-02-21 09:12:21\ntags: [PHP,十八哥,BOOL商城]\ncategories: [PHP学习记录]\n---\n\n> 框架额外功能的补充:\n1. 日志类\n2. 数据库类\n\n<!--more-->\n# 一、日志类\n> 这里直接上代码:\n\n## 代码\n``` php\nClass Log{\n\tconst LOG = 'curr.log';//将日志文件名字保存在常量中\n\n\tPublic Static function write($cont){\n\t\t// 要用双引号,转义,单引号会直接输出\n\t\t$cont .= \"\\r\\n\";\n\t\t// 判断日志文件的路径在哪里\n\t\t// 日志是否备份\n\t\t$log = self::is_bak();\n\n\t\t// 写入日志中\n\t\t$fh = fopen($log,'rb');//打开文本资源,以二进制追加的方式写入\n\t\t$fwrite($fh,$cont);//向资源中写入内容\n\t\tfclose($fh);//关闭该资源\n\t}\n\n\t/**\n\t * [bak 备份日志文件]\n\t * @return {[type]} [description]\n\t */\n\tPublic Static function bak($log){\n\t\t// 备份文件名(日期+随机数)\n\t\t$bak = ROOT.'data/log/'.date('ymd').mt_rand(100000,999999).'.bak';\n\t\treturn rename($log,$bak);\n\t}\n\n\t/**\n\t * [is_bak 检测是否备份]\n\t * @return {string} [返回日志路径]\n\t */\n\tPublic Static function is_bak(){\n\t\t// 拼接日志路径\n\t\t$log = ROOT.'data/log'.self::LOG;\n\t\t// 判断该路径是否存在\n\t\tif(!file_exists($log)){\n\t\t\ttouch($log);\n\t\t\treturn $log;\n\t\t}\n\t\t// 判断文件夹大小\n\t\t$size = filesize($log);\n\t\tif($size <= 1024*1024){//小于1m,就继续使用该文件\n\t\t\treturn $log;\n\t\t}\n\n\t\t// 如果走到了这一步,说明该备份了\n\t\tif(self::bak($log)){// 返回true,说明备份成功,需要重新创建日志文件\n\t\t\ttouch($log);\n\t\t}\n\t\t// 返回日志文件\n\t\treturn $log;\n\t}\n}\n```\n\n# 二、数据库类\n> 不多说,根据(一)中的db数据库抽象类,写出数据库操作类\n因为数据库,只需要实例化一次,多了会资源会浪费,所以使用单例模式\n\n## 代码:\n``` php\n\tClass mysql extends db{\n\t\tPrivate static $ins = null; //对象\n\t\tPrivate $conn = null; //数据库连接对象\n\t\tPrivate $conf = array(); //配置文件\n\n\t\t/**\n\t\t * [__construct 通过配置文件连接数据库]\n\t\t */\n\t\tfinal Protected function __construct(){\n\t\t\t// 从配置文件中取出数据\n\t\t\t$this->conf = config::getIns();\n\n\t\t\t//链接数据库\n\t\t\t$this->connect($this->conf->DB_HOST,$this->conf->DB_USER,$this->conf->DB_PWD,$this->conf->DB_NAME);\n\t\t}\n\n\n\t\t/**\n\t\t * [connect 连接数据库]\n\t\t * @param  {[type]} $h [服务器]\n\t\t * @param  {[type]} $u [用户名]\n\t\t * @param  {[type]} $p [密码]\n\t\t * @param  {[type]} $d [数据库]\n\t\t */\n\t\tPublic function connect($h,$u,$p,$d){\n\t\t\t$this->conn = new mysqli($h,$u,$p,$d);\n\t\t\tif($this->conn->connect_error){\n\t\t\t\tLOG::write($this->conn->connect_error);\n\t\t\t\tdie('连接失败');\n\t\t\t}\n\t\t}\n\n\t\t// 实例化对象\n\t\tPublic Static function getIns(){\n\t\t\tif(!(self::$ins instanceof self)){\n\t\t\t\tself::$ins = new self();\n\t\t\t}\n\t\t\treturn self::$ins;\n\t\t}\n\n\t\t// 发送查询\n\t\tPublic function query($sql){\n\t\t\t$rs = $this->conn->query($sql);\n\t\t\tLOG::write($sql);\n\t\t\treturn $rs;\n\t\t}\n\n\t\t// 自动执行\n\t\tPublic function autoExecute($table,$data,$action='insert',$where=''){\n\t\t\tif($action == 'insert'){\n\t\t\t\t$sql = 'INSERT INTO '.$table.'('.implode(',',array_keys($data)).')';\n\t\t\t\t$sql .= 'VALUES (\\'';\n\t\t\t\t$sql .= implode(\"','\",array_values($data));\n\t\t\t\t$sql .= ')\\'';\n\t\t\t}else{\n\t\t\t\t$sql = 'UPDATE '.$table.' SET ';\n\t\t\t\tforeach($data as $k=>$v){\n\t\t\t\t\t$sql .= $k.\"='\".$v.\"',\";\n\t\t\t\t}\n\t\t\t}\n\t\t\t// 删除字符串末端的空白字符\n\t\t\t// $sql =rtrim($sql,',');\n\t\t\t$sql .= $where;\n\t\t\treturn $this->query($sql);\n\t\t}\n\n\n\t\t// 查询多行数据\n\t\tPublic function getAll($sql){\n\t\t\t$rs = $this->query($sql);\n\t\t\t$list = array();\n\t\t\twhile($row = rs->fetch_assoc()){\n\t\t\t\t$list[] = $row;\n\t\t\t}\n\t\t\treturn $list;\n\t\t}\n\n\t\t// 查询单行数据\n\t\tPublic function getRow($sql){\n\t\t\t$rs = $this->query($sql);\n\t\t\t// fetch_assoc是取下标是关联数组\n\t\t\treturn $row = $rs->fetch_assoc();\n\t\t}\n\n\t\t// 查询单个数据\n\t\tPublic function getOne($sql){\n\t\t\t$rs = $this->query($sql);\n\n\t\t\t// fetch_row是取出下标是数字\n\t\t\t$row = $rs->fetch_row();\n\n\t\t\treturn $row[0];\n\t\t}\n\n\t\t// 返回影响行\n\t\t// 当时删除操作时,只有通过影响行来判断是否成功\n\t\tPublic function affected_rows(){\n\t\t\treturn $this->conn->affected_rows;\n\t\t}\n\n\t\t// 返回插入数据id\n\t\tPublic function insert_id(){\n\t\t\treturn $this->conn->insert_id;\n\t\t}\n\n\t\t// 克隆\n\t\tPublic function __clone(){\n\t\t\tdie();\n\t\t}\n \t}\n```","slug":"商城实战总结-二","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qgw000vdb7n4a9wc5ke","sticky":0},{"title":"商城实战总结：搭建底层框架(一)","date":"2016-02-18T09:47:33.000Z","_content":"\n> 框架的结构:\n1. init.php(初始化框架)\n2. config.inc.php(配置文件的基本信息)\n3. config.class.php(读取配置文件的类):单例模式\n4. db.class.php(数据库类)\n\n<!--more-->\n# 一、init.php开发：\n功能:\n1.设置目录常量\n2.自动加载引入基本类库\n3.过滤参数\n4.报错级别设置\n5.权限控制\n\n\n## 1. 设置目录常量\n``` php\n// 通过__FILE__获取init.php的路径\n// 因为//在windows,和linux都可以用,所以要将\\\\替换成/\ndefined('ROOT') || define('ROOT',str_replace('\\\\','/',dirname(dirname(__FILE__))).'/');\n```\n## 2. 自动加载引入基本类库\n``` php\n// 自动加载的方法来引入\nfunction Boolautoload($class){\n\t//因为Model的命名规则是:xxxModel.class.php,类名就是xxxModel\n\tif(strtolower(substr($class,-5)) == 'Model'){\n\t\trequire(ROOT.'Model/'.$class.'.class.php');\n\t}elseif(strtolower(substr($class,-4)) == 'tool'){\n\t\t//同样的,工具类也是这样命名的\n\t\trequire(ROOT.'Tool/'.$class.'.class.php');\n\t}else{\n\t\trequire(ROOT.'include/'.$class.'.class.php');\n\t}\n}\n\n//注册自动加载\nspl_autoload_register('Boolautoload');\n\n//注:这里之所以用自动注册,是为了防止引入其他工具smarty也有自动加载函数,这样就会被覆盖,注册就不会产生这些问题;\n```\n## 3. 过滤参数\n这里要用到递归的知识点;\n注:过滤数据的时候最好不要用htmlspecialchars处理\n因为当出现<>这些html标签的时候就不能正常显示了\n``` php\n\tfunction __addslashes($arr){\n\t\t//遍历传过来的数组\n\t\tforeach($arr as $k=>$v){\n\t\t\tif(is_array($v)){\n\t\t\t\t// 递归处理数组\n\t\t\t\t$arr[$k] = __addslashes[$v];\n\t\t\t}elseif(is_string($v)){\n\t\t\t\t// \n\t\t\t\t$arr[$k] = addslashes($k);\n\t\t\t}\n\t\t}\n\t\treturn $arr;\n\t}\n```\n\n## 4. 报错级别设置\n``` php\n\t报错级别\n\t// 通过变量设置debug的默认状态为上线状态\n\t$debug = defined('DEBUG')?DEBUG:null;\n\tif($debug){\n\t\terror_reporting(E_ALL & ~E_NOTICE);\n\t}else{\n\t\terror_reporting(0);\n\t}\n```\n## 5. 权限控制\n``` php\n\t// 不能直接访问的页面就添加\n\tdefined('ACC') || exit('ACC DENIED');\n\t/** \n\t * 所以:访问init之前,要先定义ACC\n\t * 当你从正常页面访问的时候,他会给你一把ACC钥匙\n\t * 非法途径会exit退出\n\t */\n```\n# 二、config配置文件\n\n## config.inc.php\n> 这个函数的作用是写入配置数据,供其他页面调用;\n``` php\n\t// 示例:数据库的配置信息\n\t$_CONF = array(\n\t\t'DB_HOST'=>'localhost',\n\t\t'DB_USER'=>'root',\n\t\t'DB_PWD'=>'',\n\t\t'DB_NAME'=>'bool',\n\t)\n```\n\n## config.class.php\n> 这个函数是调用配置数据的;\n> 分析:\n0.当只有一个类调用的时候就可以直接调用inc.php\n2.当多个类都来调用的时候,会很乱\n3.所以需要一个config.class.php来统一一次性将配置信息都进来,所有的类再需要配置信息,都找conf类\n4.配置文件的类需要保持一致,让每个来读取的类都是同一个对象,所以采用单例模式\n\n``` php\n\t\n\tClass config{\n\n\t\t// 保存对象\n\t\tProtected static $ins = null;\n\t\t// 配置文件\n\t\tPublic $data = array();\n\n\t\t// 阻止在外部实例化\n\t\tfinal protected function __construct(){\n\t\t\t// 引入配置文件\n\t\t\t// 一次性把配置文件读取过来,并且赋值给data\n\t\t\trequire(ROOT.'include/config.inc.php');\n\t\t\t$this->data = $_CONF;\n\t\t}\n\t\t// 阻止克隆,产生新的对象\n\t\tprotected function __clone(){\n\n\t\t}\n\n\t\tpublic static function getIns(){\n\t\t\tif(!(self::$ins instanceof self)){\n\t\t\t\tself::$ins = new self();\n\t\t\t}\n\t\t\treturn self::$ins;\n\t\t}\n\n\t\t// 获取配置文件数据\n\t\tPublic function __get($key){\n\t\t\tif(array_key_exists($key,$this->data)){\n\t\t\t\treturn $this->data[$key];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// 可以添加修改配置文件中的数据\n\t\tPublic function __set($key,$value){\n\t\t\treturn $this->data[$key] = $value;\n\t\t}\n\t}\n```\n\n# 三、db数据库类\n> 分析:\n1.目前到底采用什么数据库,还不清楚\n2.但是每个数据库的基本功能必须要有\n3.所以先写一个抽象类\n\n``` php\nabstract class db{\n\t// 链接服务器\n\tpublic abstract function connect($h,$u,$p);\n\n\t// 发送查询\n\tpublic abstract function query($sql);\n\n\t// 查询多行数据\n\tpublic abstract function getAll($sql);\n\n\t// 查询单行数据\n\tpublic abstract function getRow($sql);\t\n\n\t// 查询单个数据\n\tpublic abstract function getOne($sql);\n\n\t// 自动执行,insert/update\n\tpublic abstract function autoExecute($table,$data,$act = 'insert',$where = '');\n}\n```","source":"_posts/商城实战总结-一.md","raw":"title: 商城实战总结：搭建底层框架(一)\ndate: 2016-02-18 09:47:33\ntags: [PHP,十八哥,BOOL商城]\ncategories: [PHP学习记录]\n---\n\n> 框架的结构:\n1. init.php(初始化框架)\n2. config.inc.php(配置文件的基本信息)\n3. config.class.php(读取配置文件的类):单例模式\n4. db.class.php(数据库类)\n\n<!--more-->\n# 一、init.php开发：\n功能:\n1.设置目录常量\n2.自动加载引入基本类库\n3.过滤参数\n4.报错级别设置\n5.权限控制\n\n\n## 1. 设置目录常量\n``` php\n// 通过__FILE__获取init.php的路径\n// 因为//在windows,和linux都可以用,所以要将\\\\替换成/\ndefined('ROOT') || define('ROOT',str_replace('\\\\','/',dirname(dirname(__FILE__))).'/');\n```\n## 2. 自动加载引入基本类库\n``` php\n// 自动加载的方法来引入\nfunction Boolautoload($class){\n\t//因为Model的命名规则是:xxxModel.class.php,类名就是xxxModel\n\tif(strtolower(substr($class,-5)) == 'Model'){\n\t\trequire(ROOT.'Model/'.$class.'.class.php');\n\t}elseif(strtolower(substr($class,-4)) == 'tool'){\n\t\t//同样的,工具类也是这样命名的\n\t\trequire(ROOT.'Tool/'.$class.'.class.php');\n\t}else{\n\t\trequire(ROOT.'include/'.$class.'.class.php');\n\t}\n}\n\n//注册自动加载\nspl_autoload_register('Boolautoload');\n\n//注:这里之所以用自动注册,是为了防止引入其他工具smarty也有自动加载函数,这样就会被覆盖,注册就不会产生这些问题;\n```\n## 3. 过滤参数\n这里要用到递归的知识点;\n注:过滤数据的时候最好不要用htmlspecialchars处理\n因为当出现<>这些html标签的时候就不能正常显示了\n``` php\n\tfunction __addslashes($arr){\n\t\t//遍历传过来的数组\n\t\tforeach($arr as $k=>$v){\n\t\t\tif(is_array($v)){\n\t\t\t\t// 递归处理数组\n\t\t\t\t$arr[$k] = __addslashes[$v];\n\t\t\t}elseif(is_string($v)){\n\t\t\t\t// \n\t\t\t\t$arr[$k] = addslashes($k);\n\t\t\t}\n\t\t}\n\t\treturn $arr;\n\t}\n```\n\n## 4. 报错级别设置\n``` php\n\t报错级别\n\t// 通过变量设置debug的默认状态为上线状态\n\t$debug = defined('DEBUG')?DEBUG:null;\n\tif($debug){\n\t\terror_reporting(E_ALL & ~E_NOTICE);\n\t}else{\n\t\terror_reporting(0);\n\t}\n```\n## 5. 权限控制\n``` php\n\t// 不能直接访问的页面就添加\n\tdefined('ACC') || exit('ACC DENIED');\n\t/** \n\t * 所以:访问init之前,要先定义ACC\n\t * 当你从正常页面访问的时候,他会给你一把ACC钥匙\n\t * 非法途径会exit退出\n\t */\n```\n# 二、config配置文件\n\n## config.inc.php\n> 这个函数的作用是写入配置数据,供其他页面调用;\n``` php\n\t// 示例:数据库的配置信息\n\t$_CONF = array(\n\t\t'DB_HOST'=>'localhost',\n\t\t'DB_USER'=>'root',\n\t\t'DB_PWD'=>'',\n\t\t'DB_NAME'=>'bool',\n\t)\n```\n\n## config.class.php\n> 这个函数是调用配置数据的;\n> 分析:\n0.当只有一个类调用的时候就可以直接调用inc.php\n2.当多个类都来调用的时候,会很乱\n3.所以需要一个config.class.php来统一一次性将配置信息都进来,所有的类再需要配置信息,都找conf类\n4.配置文件的类需要保持一致,让每个来读取的类都是同一个对象,所以采用单例模式\n\n``` php\n\t\n\tClass config{\n\n\t\t// 保存对象\n\t\tProtected static $ins = null;\n\t\t// 配置文件\n\t\tPublic $data = array();\n\n\t\t// 阻止在外部实例化\n\t\tfinal protected function __construct(){\n\t\t\t// 引入配置文件\n\t\t\t// 一次性把配置文件读取过来,并且赋值给data\n\t\t\trequire(ROOT.'include/config.inc.php');\n\t\t\t$this->data = $_CONF;\n\t\t}\n\t\t// 阻止克隆,产生新的对象\n\t\tprotected function __clone(){\n\n\t\t}\n\n\t\tpublic static function getIns(){\n\t\t\tif(!(self::$ins instanceof self)){\n\t\t\t\tself::$ins = new self();\n\t\t\t}\n\t\t\treturn self::$ins;\n\t\t}\n\n\t\t// 获取配置文件数据\n\t\tPublic function __get($key){\n\t\t\tif(array_key_exists($key,$this->data)){\n\t\t\t\treturn $this->data[$key];\n\t\t\t}else{\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\t// 可以添加修改配置文件中的数据\n\t\tPublic function __set($key,$value){\n\t\t\treturn $this->data[$key] = $value;\n\t\t}\n\t}\n```\n\n# 三、db数据库类\n> 分析:\n1.目前到底采用什么数据库,还不清楚\n2.但是每个数据库的基本功能必须要有\n3.所以先写一个抽象类\n\n``` php\nabstract class db{\n\t// 链接服务器\n\tpublic abstract function connect($h,$u,$p);\n\n\t// 发送查询\n\tpublic abstract function query($sql);\n\n\t// 查询多行数据\n\tpublic abstract function getAll($sql);\n\n\t// 查询单行数据\n\tpublic abstract function getRow($sql);\t\n\n\t// 查询单个数据\n\tpublic abstract function getOne($sql);\n\n\t// 自动执行,insert/update\n\tpublic abstract function autoExecute($table,$data,$act = 'insert',$where = '');\n}\n```","slug":"商城实战总结-一","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qgz0010db7njnk3g4qy","sticky":0},{"title":"学习记录:仿TP自动验证数据","date":"2016-01-30T16:18:09.000Z","_content":"\n# TP自动验证\n\n&emsp;&emsp;数据对象是由表单提交的$_POST数据创建。需要使用系统的自动验证功能，只需要在Model类里面定义\n<!--more-->\n$_validate属性，是由多个验证因子组成的二维数组。\n\n# 自动验证格式\n``` php\n# 这是检测的格式:\narray('字段名称','运用场景0/1/2','错误信息','规则')\nProtected $valid=array(\n\tarray('goods_name','1','商品名不能为空','require'),\n\tarray('cat_id','1','商品分类必须为整型','number'),\n\tarray('is_new','0','只能是0或者1','in','0,1'),\n\tarray('goods_brief','2','简介字数要在1到100间','between','10,100')\n\t\t\t\t\t);\n```\n## 解释意义\n字段名称:\n根据你的需要\n\n运用场景:\n0. 有字段检测,无此字段不检测\n1. 必须检测的字段\n2. 如有且内容不空,则检测,如签名档\n\n规则:\n1. require:检测是否为空\n2. number:检测是否是数字\n3. in(0,1):检测是不是值在参数里面\n4. between(10,100):检测是不是在参数范围内\n\n## validate代码如下:\n``` php\nfunction validate ($data){\n\t// 如果没有设置valid\n\tif(empty($this->valid)){\n\t\t// 返回检测成功\n\t\treturn true;\n\t}\n\t// 循环规则数组\n\tforeach($this -> valid as $k => $v){\n\t\t//首先判断环境0,1,2\n\t\tswitch($v['1']){\n\t\t\tcase 1:\n\t\t\t\t// 1场景:必须检查\n\t\t\t\t// $v[0]是字段名\n\t\t\t\t// 如果没有设置了字段名\n\t\t\t\tif(!isset($data[$v[0]])){\n\t\t\t\t\t$this->err[]=$v['2'];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// 再来检测值是否为空\n\t\t\t\tif($this->check($data[$v[0]],$v[3])){\n\t\t\t\t\t$this->err[]=$v[2];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0: \n\t\t\t\t// 如果没有设置,就不用验证,返回true\n\t\t\t\tif(!isset($data[$v[0]])){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(!$this->check($data[$v[0]],$v[3],$v[4])){\n\t\t\t\t\t$this->err[]=$v[2];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\t// 如果字段没有设置返回true\n\t\t\t\t// 这里用了短路\n\t\t\t\t// 如果设置了,判断是否为空,如果为空,返回true\n\t\t\t\t// 如果不为空,且字段存在,条件false,不执行\n\t\t\t\tif(!isset($data[$v[0]])||empty($data[$v[0]])){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(!$this->check($data[$v[0]],$v[3],$v[4])){\n\t\t\t\t\t$this->err['err']=$v['2'];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n```\n## check代码如下:\n``` php\n// $value:字段名字\n// $rules:规则\n// $param:规则对应的参数\nProtected function check($value,$rules='',$param=''){\n\tswitch($rules){\n\t\t// 判断是否为空\n\t\tcase 'require':\n\t\t\treturn empty($value);\n\t\t\tbreak;\n\t\t// 当他不是数字的时候,返回true,在valid端就直接执行\n\t\tcase 'number':\n\t\t\treturn !is_numeric($value);\n\t\t// 判断在in中\n\t\tcase 'in':\n\t\t\t$arr=explode(',',$param);\n\t\t\treturn in_array($value,$arr);\n\t\tcase 'between':\n\t\t\t$arr=explode(',',$param);\n\t\t\treturn strlen($value)>=$arr[0]&&strlen($value)<=$arr[1];\n\t\t\t}\n\t\t}\n```\n# 总结\n这样就可以自动验证了.但是功能只有几个,更多功能可以在check里面添加.","source":"_posts/仿TP自动验证数据.md","raw":"title: 学习记录:仿TP自动验证数据\ndate: 2016-01-30 16:18:09\ntags: [PHP,十八哥,自动验证]\ncategories:  [PHP学习记录]\n---\n\n# TP自动验证\n\n&emsp;&emsp;数据对象是由表单提交的$_POST数据创建。需要使用系统的自动验证功能，只需要在Model类里面定义\n<!--more-->\n$_validate属性，是由多个验证因子组成的二维数组。\n\n# 自动验证格式\n``` php\n# 这是检测的格式:\narray('字段名称','运用场景0/1/2','错误信息','规则')\nProtected $valid=array(\n\tarray('goods_name','1','商品名不能为空','require'),\n\tarray('cat_id','1','商品分类必须为整型','number'),\n\tarray('is_new','0','只能是0或者1','in','0,1'),\n\tarray('goods_brief','2','简介字数要在1到100间','between','10,100')\n\t\t\t\t\t);\n```\n## 解释意义\n字段名称:\n根据你的需要\n\n运用场景:\n0. 有字段检测,无此字段不检测\n1. 必须检测的字段\n2. 如有且内容不空,则检测,如签名档\n\n规则:\n1. require:检测是否为空\n2. number:检测是否是数字\n3. in(0,1):检测是不是值在参数里面\n4. between(10,100):检测是不是在参数范围内\n\n## validate代码如下:\n``` php\nfunction validate ($data){\n\t// 如果没有设置valid\n\tif(empty($this->valid)){\n\t\t// 返回检测成功\n\t\treturn true;\n\t}\n\t// 循环规则数组\n\tforeach($this -> valid as $k => $v){\n\t\t//首先判断环境0,1,2\n\t\tswitch($v['1']){\n\t\t\tcase 1:\n\t\t\t\t// 1场景:必须检查\n\t\t\t\t// $v[0]是字段名\n\t\t\t\t// 如果没有设置了字段名\n\t\t\t\tif(!isset($data[$v[0]])){\n\t\t\t\t\t$this->err[]=$v['2'];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// 再来检测值是否为空\n\t\t\t\tif($this->check($data[$v[0]],$v[3])){\n\t\t\t\t\t$this->err[]=$v[2];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 0: \n\t\t\t\t// 如果没有设置,就不用验证,返回true\n\t\t\t\tif(!isset($data[$v[0]])){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(!$this->check($data[$v[0]],$v[3],$v[4])){\n\t\t\t\t\t$this->err[]=$v[2];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\t// 如果字段没有设置返回true\n\t\t\t\t// 这里用了短路\n\t\t\t\t// 如果设置了,判断是否为空,如果为空,返回true\n\t\t\t\t// 如果不为空,且字段存在,条件false,不执行\n\t\t\t\tif(!isset($data[$v[0]])||empty($data[$v[0]])){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif(!$this->check($data[$v[0]],$v[3],$v[4])){\n\t\t\t\t\t$this->err['err']=$v['2'];\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n```\n## check代码如下:\n``` php\n// $value:字段名字\n// $rules:规则\n// $param:规则对应的参数\nProtected function check($value,$rules='',$param=''){\n\tswitch($rules){\n\t\t// 判断是否为空\n\t\tcase 'require':\n\t\t\treturn empty($value);\n\t\t\tbreak;\n\t\t// 当他不是数字的时候,返回true,在valid端就直接执行\n\t\tcase 'number':\n\t\t\treturn !is_numeric($value);\n\t\t// 判断在in中\n\t\tcase 'in':\n\t\t\t$arr=explode(',',$param);\n\t\t\treturn in_array($value,$arr);\n\t\tcase 'between':\n\t\t\t$arr=explode(',',$param);\n\t\t\treturn strlen($value)>=$arr[0]&&strlen($value)<=$arr[1];\n\t\t\t}\n\t\t}\n```\n# 总结\n这样就可以自动验证了.但是功能只有几个,更多功能可以在check里面添加.","slug":"仿TP自动验证数据","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qh20015db7n16r9w42h","sticky":0},{"title":"linux下安装apache和php","date":"2016-03-05T18:16:19.000Z","_content":"# 一、apache编译\n<!--more-->\n```\n# cd /usr/local/src/\n# wget http://httpd.apache.org/download.cgi\n# tar zvxf apache(按tab)\n# cd apache(按tab) \n# ./configure --prefix=/usr/local/httpd \n# make && make install\n```\n> 开启apache\n```\n# cd /usr/local/httpd\n# ./bin/apachectl start\n```\n\n# 二、php编译\n1. 解压\n```\n# cd /usr/local/src/\n# wget http://...\n# tar zfvx php(按tab)\n# cd php(按tab)\n```\n2. 编译安装php\n```\n# ./configure --prefix=/usr/local/php --with-apxs2=/usr/local/httpd/bin/apxs --enable-mysqlnd\n# make && make install\n```\n\n# 三、整合apache+php\n1. 配置http.conf主要是整合php作为apache的模块出现(有时会自动配置好)\n2. 我们在httpd.conf里加一句AddType application/x-httpd-php .php\n```\n# cd /usr/local/httpd/conf/\n# vim httpd.conf\n# AddType application/x-httpd-php .php\n```\n3. 重启apache\n> 注:libxml库会出错:xml2-config not found,please check your libxml2 instaration;\n解决方法:yum install libxml2-devel","source":"_posts/linux安装apache和php.md","raw":"title: linux下安装apache和php\ndate: 2016-03-05 18:16:19\ntags: [linux,apache,php]\ncategories: [apache]\n---\n# 一、apache编译\n<!--more-->\n```\n# cd /usr/local/src/\n# wget http://httpd.apache.org/download.cgi\n# tar zvxf apache(按tab)\n# cd apache(按tab) \n# ./configure --prefix=/usr/local/httpd \n# make && make install\n```\n> 开启apache\n```\n# cd /usr/local/httpd\n# ./bin/apachectl start\n```\n\n# 二、php编译\n1. 解压\n```\n# cd /usr/local/src/\n# wget http://...\n# tar zfvx php(按tab)\n# cd php(按tab)\n```\n2. 编译安装php\n```\n# ./configure --prefix=/usr/local/php --with-apxs2=/usr/local/httpd/bin/apxs --enable-mysqlnd\n# make && make install\n```\n\n# 三、整合apache+php\n1. 配置http.conf主要是整合php作为apache的模块出现(有时会自动配置好)\n2. 我们在httpd.conf里加一句AddType application/x-httpd-php .php\n```\n# cd /usr/local/httpd/conf/\n# vim httpd.conf\n# AddType application/x-httpd-php .php\n```\n3. 重启apache\n> 注:libxml库会出错:xml2-config not found,please check your libxml2 instaration;\n解决方法:yum install libxml2-devel","slug":"linux安装apache和php","published":1,"updated":"2016-10-17T16:07:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciuea2qha001bdb7nmra7w73d","sticky":0}],"PostAsset":[],"PostCategory":[{"post_id":"ciuea2qcg0000db7nydjst80d","category_id":"ciuea2qcm0001db7nluemhgdf","_id":"ciuea2qcp0004db7n1n80wttm"},{"post_id":"ciuea2qgh0009db7ngmplcavi","category_id":"ciuea2qgj000adb7nckiskm7b","_id":"ciuea2qgk000ddb7nql73npgm"},{"post_id":"ciuea2qgq000ndb7njoipx1kg","category_id":"ciuea2qgr000odb7n78optx8h","_id":"ciuea2qgu000rdb7ne4ts03zt"},{"post_id":"ciuea2qgw000vdb7n4a9wc5ke","category_id":"ciuea2qgr000odb7n78optx8h","_id":"ciuea2qgx000wdb7n8y7ztyv2"},{"post_id":"ciuea2qgz0010db7njnk3g4qy","category_id":"ciuea2qgr000odb7n78optx8h","_id":"ciuea2qh00011db7nhb3zr2y4"},{"post_id":"ciuea2qh20015db7n16r9w42h","category_id":"ciuea2qgr000odb7n78optx8h","_id":"ciuea2qh60016db7n0hby8w4a"},{"post_id":"ciuea2qha001bdb7nmra7w73d","category_id":"ciuea2qhc001cdb7n9r5xhafp","_id":"ciuea2qhd001fdb7n0h3w78v3"}],"PostTag":[{"post_id":"ciuea2qcg0000db7nydjst80d","tag_id":"ciuea2qco0002db7nz5x5enbv","_id":"ciuea2qcq0005db7nhqwcf7gk"},{"post_id":"ciuea2qcg0000db7nydjst80d","tag_id":"ciuea2qcp0003db7n8htzs3d9","_id":"ciuea2qcq0006db7n65jfyr0e"},{"post_id":"ciuea2qgh0009db7ngmplcavi","tag_id":"ciuea2qgk000bdb7nh1jomp18","_id":"ciuea2qgl000gdb7njtejw8h5"},{"post_id":"ciuea2qgh0009db7ngmplcavi","tag_id":"ciuea2qgk000cdb7njo50su83","_id":"ciuea2qgl000hdb7ni8jn3gzr"},{"post_id":"ciuea2qgh0009db7ngmplcavi","tag_id":"ciuea2qgl000edb7ndsca1i22","_id":"ciuea2qgl000idb7nvehzb0fc"},{"post_id":"ciuea2qgh0009db7ngmplcavi","tag_id":"ciuea2qgl000fdb7nzwipbdgn","_id":"ciuea2qgl000jdb7n7q6l521s"},{"post_id":"ciuea2qgn000kdb7ni1zkjt3n","tag_id":"ciuea2qgo000ldb7ntie1xj0p","_id":"ciuea2qgp000mdb7n7byb88ue"},{"post_id":"ciuea2qgq000ndb7njoipx1kg","tag_id":"ciuea2qgs000pdb7ng3tgmmyk","_id":"ciuea2qgu000sdb7noj5xekmt"},{"post_id":"ciuea2qgq000ndb7njoipx1kg","tag_id":"ciuea2qgk000bdb7nh1jomp18","_id":"ciuea2qgu000tdb7nqlozfdx5"},{"post_id":"ciuea2qgq000ndb7njoipx1kg","tag_id":"ciuea2qgt000qdb7nnh3iz8ff","_id":"ciuea2qgu000udb7n796eko42"},{"post_id":"ciuea2qgw000vdb7n4a9wc5ke","tag_id":"ciuea2qgk000bdb7nh1jomp18","_id":"ciuea2qgx000xdb7n0pvk2wlt"},{"post_id":"ciuea2qgw000vdb7n4a9wc5ke","tag_id":"ciuea2qgt000qdb7nnh3iz8ff","_id":"ciuea2qgx000ydb7n3dmhzh3d"},{"post_id":"ciuea2qgw000vdb7n4a9wc5ke","tag_id":"ciuea2qgs000pdb7ng3tgmmyk","_id":"ciuea2qgx000zdb7nqmt99oa9"},{"post_id":"ciuea2qgz0010db7njnk3g4qy","tag_id":"ciuea2qgk000bdb7nh1jomp18","_id":"ciuea2qh00012db7nmhf8pbpt"},{"post_id":"ciuea2qgz0010db7njnk3g4qy","tag_id":"ciuea2qgt000qdb7nnh3iz8ff","_id":"ciuea2qh00013db7nucu1nh40"},{"post_id":"ciuea2qgz0010db7njnk3g4qy","tag_id":"ciuea2qgs000pdb7ng3tgmmyk","_id":"ciuea2qh00014db7nb9feby2e"},{"post_id":"ciuea2qh20015db7n16r9w42h","tag_id":"ciuea2qgk000bdb7nh1jomp18","_id":"ciuea2qh90018db7ngko9uwwk"},{"post_id":"ciuea2qh20015db7n16r9w42h","tag_id":"ciuea2qgt000qdb7nnh3iz8ff","_id":"ciuea2qh90019db7ntsz5h7yw"},{"post_id":"ciuea2qh20015db7n16r9w42h","tag_id":"ciuea2qh70017db7nb0df7tl9","_id":"ciuea2qh9001adb7n42w1f1lb"},{"post_id":"ciuea2qha001bdb7nmra7w73d","tag_id":"ciuea2qcp0003db7n8htzs3d9","_id":"ciuea2qhd001gdb7n23mh3k3c"},{"post_id":"ciuea2qha001bdb7nmra7w73d","tag_id":"ciuea2qhc001ddb7ncl2pbb0f","_id":"ciuea2qhd001hdb7nxx22c5lz"},{"post_id":"ciuea2qha001bdb7nmra7w73d","tag_id":"ciuea2qhc001edb7n9a8ntkh2","_id":"ciuea2qhd001idb7natd2un48"}],"Tag":[{"name":"Memcache","_id":"ciuea2qco0002db7nz5x5enbv"},{"name":"linux","_id":"ciuea2qcp0003db7n8htzs3d9"},{"name":"PHP","_id":"ciuea2qgk000bdb7nh1jomp18"},{"name":"API","_id":"ciuea2qgk000cdb7njo50su83"},{"name":"阿里大鱼","_id":"ciuea2qgl000edb7ndsca1i22"},{"name":"短信","_id":"ciuea2qgl000fdb7nzwipbdgn"},{"name":"saying","_id":"ciuea2qgo000ldb7ntie1xj0p"},{"name":"BOOL商城","_id":"ciuea2qgs000pdb7ng3tgmmyk"},{"name":"十八哥","_id":"ciuea2qgt000qdb7nnh3iz8ff"},{"name":"自动验证","_id":"ciuea2qh70017db7nb0df7tl9"},{"name":"apache","_id":"ciuea2qhc001ddb7ncl2pbb0f"},{"name":"php","_id":"ciuea2qhc001edb7n9a8ntkh2"}]}}